<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <link href="style.css" rel="stylesheet" />
    <title>Document</title>
    <style>
      .error {
        color: red;
        width: 300px;
        text-align: center;
        padding: 2px 10px;
        margin-left: 10px;
      }
    </style>
  </head>
  <body>
    <div class="title">
        <h2>FORM REGRISTRASI</h2>
    </div>

    <section class="form">
        <fieldset>
            <form id="registrationForm" name="registrationForm" method="post" action="proses.php">
              <table>
                  <tr>
                      <td>Nama </td>
                      <td class="TdRight">
                          <input type="text" name="nama" id="nama" />
                          <br><span id="namaSpan"></span>
                      </td>
                  </tr>
      
                  <tr>
                      <td>Username </td>
                      <td class="TdRight">
                          <input type="text" name="username" id="username" />
                          <br><span id="usernameSpan"></span>
                      </td>
                  </tr>
      
                  <tr>
                      <td>Email </td>
                      <td class="TdRight">
                          <input type="email" name="email" id="email" />
                          <br><span id="emailSpan"></span>
                      </td>
                  </tr>
       
                  <tr>
                      <td>Password </td>
                      <td class="TdRight">
                          <input type="password" name="password" id="password" />
                          <br><span id="passwordSpan"></span>
                      </td>
                  </tr>
                  
                  <tr>
                      <td>Konfirmasi Password </td>
                      <td class="TdRight">
                          <input type="password" name="konfirmasi_password" id="konfirmasi_password"/>
                          <br><span id="konfirmasiPasswordSpan"></span>
                      </td>
                  </tr>
      
                  <tr>
                      <td>No Telepon </td>
                      <td class="TdRight">
                          <input type="number" name="no_telepon" id="no_telepon" />
                          <br><span id="noTeleponSpan"></span>
                      </td>
                  </tr>
      
                  <tr>
                      <td>Jenis Kelamin </td>
                      <td class="TdRight">
                          <input type="radio" name="jenis_kelamin" id="jenis_kelamin_pria" value="Pria"/>
                          <label for="jenis_kelamin_pria">Pria</label>
                          <input type="radio" name="jenis_kelamin" id="jenis_kelamin_wanita" value="Wanita"/>
                          <label for="jenis_kelamin_wanita">Wanita</label>
                          <br><span id="jenisKelaminSpan"></span>
                      </td>
                  </tr>
      
                  <tr>
                      <td>Alamat Website </td>
                      <td class="TdRight">
                          <input type="url" name="website" id="website" />
                          <br><span id="websiteSpan"></span>
                      </td>
                  </tr>
              </table>
      
              <input type="submit" name="submit" id="submit" value="Daftar" />
      
            </form>
          </fieldset>
    </section>

    <script>
      document
        .getElementById("registrationForm")
        .addEventListener("submit", function (event) {
          let namaNode = document.getElementById("nama");
          let usernameNode = document.getElementById("username");
          let emailNode = document.getElementById("email");
          let passwordNode = document.getElementById("password");
          let konfirmasiPasswordNode = document.getElementById(
            "konfirmasi_password"
          );
          let noTeleponNode = document.getElementById("no_telepon");
          let jenisKelaminNodePria =
            document.getElementById("jenis_kelamin_pria");
          let jenisKelaminNodeWanita = document.getElementById(
            "jenis_kelamin_wanita"
          );
          let websiteNode = document.getElementById("website");
          let namaSpanNode = document.getElementById("namaSpan");
          let usernameSpanNode = document.getElementById("usernameSpan");
          let emailSpanNode = document.getElementById("emailSpan");
          let passwordSpanNode = document.getElementById("passwordSpan");
          let konfirmasiPasswordSpanNode = document.getElementById(
            "konfirmasiPasswordSpan"
          );
          let noTeleponSpanNode = document.getElementById("noTeleponSpan");
          let jenisKelaminSpanNode =
            document.getElementById("jenisKelaminSpan");
          let websiteSpanNode = document.getElementById("websiteSpan");
          let namaError = "";
          let usernameError = "";
          let emailError = "";
          let passwordError = "";
          let konfirmasiPasswordError = "";
          let noTeleponError = "";
          let jenisKelaminError = "";
          let websiteError = "";
          // Validasi Nama

          if (namaNode.value.trim() === "") {
            namaError = "Nama harus diisi";
          }
          // Validasi Username
          if (usernameNode.value.trim() === "") {
            usernameError = "Username harus diisi";
          }
          // Validasi Email
          if (emailNode.value.trim() === "") {
            emailError = "Email harus diisi";
          } else if (!validateEmail(emailNode.value.trim())) {
            emailError = "Email tidak valid";
          }
          // Validasi Password
          if (passwordNode.value.trim() === "") {
            passwordError = "Password harus diisi";
          }
          // Validasi Konfirmasi Password
          if (konfirmasiPasswordNode.value.trim() === "") {
            konfirmasiPasswordError = "Konfirmasi password harus diisi";
          } else if (
            konfirmasiPasswordNode.value.trim() !== passwordNode.value.trim()
          ) {
            konfirmasiPasswordError = "Konfirmasi password tidak cocok";
          }
          // Validasi No Telepon
          if (noTeleponNode.value.trim() === "") {
            noTeleponError = "Nomor telepon harus diisi";
          }
          // Validasi Jenis Kelamin
          if (
            !jenisKelaminNodePria.checked &&
            !jenisKelaminNodeWanita.checked
          ) {
            jenisKelaminError = "Jenis kelamin harus dipilih";
          }
          // Validasi Alamat Website
          if (websiteNode.value.trim() === "") {
            websiteError = "Alamat website harus diisi";
          }

          19;
          if (namaError !== "") {
            namaSpanNode.innerHTML = namaError;
            namaSpanNode.className = "error";
            event.preventDefault();
          }
          if (usernameError !== "") {
            usernameSpanNode.innerHTML = usernameError;
            usernameSpanNode.className = "error";
            event.preventDefault();
          }
          if (emailError !== "") {
            emailSpanNode.innerHTML = emailError;
            emailSpanNode.className = "error";
            event.preventDefault();
          }
          if (passwordError !== "") {
            passwordSpanNode.innerHTML = passwordError;
            passwordSpanNode.className = "error";
            event.preventDefault();
          }
          if (konfirmasiPasswordError !== "") {
            konfirmasiPasswordSpanNode.innerHTML = konfirmasiPasswordError;
            konfirmasiPasswordSpanNode.className = "error";
            event.preventDefault();
          }
          if (noTeleponError !== "") {
            noTeleponSpanNode.innerHTML = noTeleponError;
            noTeleponSpanNode.className = "error";
            event.preventDefault();
          }
          if (jenisKelaminError !== "") {
            jenisKelaminSpanNode.innerHTML = jenisKelaminError;
            jenisKelaminSpanNode.className = "error";
            event.preventDefault();
          }
          if (websiteError !== "") {
            websiteSpanNode.innerHTML = websiteError;
            websiteSpanNode.className = "error";
            event.preventDefault();
          }
        });

      function validateEmail(email) {
        // Regular expression for validating an email address
        let re = /\S+@\S+\.\S+/;
        return re.test(email);
      }
      document
        .getElementById("no_telepon")
        .addEventListener("input", function (event) {
          const input = event.target.value;
          event.target.value = input.replace(/\D/g, ""); // Replace non-digit characters with empty string
        });
    </script>
  </body>
</html>
